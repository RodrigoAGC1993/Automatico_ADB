<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Construtor de Automação Visual</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/jerosoler/Drawflow/dist/drawflow.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
</head>
<body>
    <header class="header">
        <h1>Construtor de Automação Visual</h1>
    </header>

    <div class="main-container">
        <aside id="toolbox">
            <h3><i class="fa-solid fa-puzzle-piece"></i> Ações</h3>
            <div class="toolbox-item" draggable="true" data-node="Inicio">▶ Início</div>
            <div class="toolbox-item" draggable="true" data-node="VerificarTela">❓ Verificar Tela (IF)</div>
            <div class="toolbox-item" draggable="true" data-node="Tocar">👆 Ação: Tocar</div>
            <div class="toolbox-item" draggable="true" data-node="Digitar">⌨️ Ação: Digitar</div>
            <div class="toolbox-item" draggable="true" data-node="KeyEvent">🔑 Ação: Evento de Tecla</div>
            <!-- Novo Bloco de Loop -->
            <div class="toolbox-item" draggable="true" data-node="Loop">🔁 Loop (For / Do-While)</div>
            <div class="toolbox-item" draggable="true" data-node="Sucesso">✅ Fim (Sucesso)</div>
            <div class="toolbox-item" draggable="true" data-node="Falha">❌ Fim (Falha)</div>
        </aside>

        <main id="drawflow-wrapper">
            <div id="drawflow"></div>
        </main>
    </div>

    <footer class="footer">
        <div class="json-controls">
            <h3><i class="fa-solid fa-code"></i> Receita Gerada</h3>
            <button id="generate-json-btn" title="Gerar a receita a partir do fluxo visual"><i class="fa-solid fa-cogs"></i> Gerar Receita</button>
            <button id="copy-json-btn" title="Copiar o código JSON para a área de transferência"><i class="fa-solid fa-copy"></i> Copiar</button>
        </div>
        <pre id="json-output"></pre>
    </footer>

    <script src="https://cdn.jsdelivr.net/gh/jerosoler/Drawflow/dist/drawflow.min.js"></script>
    <script defer src="script.js"></script>
</body>
</html>